var bowyer;!function(){"use strict";bowyer=angular.module("bowyer",["ngAnimate","ngCookies","ngTouch","ngSanitize","ui.router","ui.bootstrap","LocalStorageModule"])}(),function(){"use strict";function t(t,a,e){t.state("login",{url:"/login",templateUrl:"bowyer-ui/dashboard/partials/login/login.html"}).state("logout",{url:"/logout",controller:"logoutCtrl"}).state("forgotPassword",{url:"/forgotPassword",templateUrl:"bowyer-ui/dashboard/partials/forgotPassword/forgotPassword.html"}).state("register",{url:"/register",templateUrl:"bowyer-ui/dashboard/partials/register/register.html"}).state("dashboard",{url:"/",templateUrl:"bowyer-ui/dashboard/partials/dashboard/dashboard.html"}).state("dashboard.alerts",{url:"alerts",templateUrl:"bowyer-ui/dashboard/partials/dashboard/alerts/alerts.html"}).state("dashboard.users",{url:"users",controller:"usersCtrl as vm",templateUrl:"bowyer-ui/dashboard/partials/dashboard/users/users.html"}).state("dashboard.settings",{url:"settings",templateUrl:"bowyer-ui/dashboard/partials/dashboard/settings/settings.html"}).state("dashboard.resetPassword",{url:"resetPassword",templateUrl:"bowyer-ui/dashboard/partials/dashboard/resetPassword/resetPassword.html"}).state("dashboard.api",{url:"api",templateUrl:"bowyer-ui/dashboard/partials/dashboard/api/api.html"}).state("dashboard.analytics",{url:"analytics",templateUrl:"bowyer-ui/dashboard/partials/dashboard/analytics/analytics.html"}).state("dashboard.config",{url:"config",templateUrl:"bowyer-ui/dashboard/partials/dashboard/config/config.html"}).state("dashboard.config.roles",{url:"/roles",templateUrl:"bowyer-ui/dashboard/partials/dashboard/config/roles/roles.html"}).state("dashboard.healthcheck",{url:"healthcheck",templateUrl:"bowyer-ui/dashboard/partials/dashboard/healthcheck/healthcheck.html",controller:"healthCheckCtrl as vm"}),a.otherwise("/login"),e.setPrefix("bowyer")}bowyer.config(t)}(),function(){"use strict";function t(t,a){t.defaults.headers.common.apitoken=a.get("api_token")}bowyer.run(t)}(),function(){"use strict";angular.module("bowyer").controller("dashboardCtrl",["$scope",function(t){}])}(),function(){"use strict";bowyer.controller("loginCtrl",["api","$state","localStorageService","constants",function(t,a,e,o){var r=this;r.validateLogin=function(){r.loginError=!1;var s={url:"/api/login",data:{username:r.username,password:r.password},method:o.method.post};t.executeCall(s).then(function(o){o.data.api_token?(e.set("api_token",o.data.api_token),t.addTokenToCalls(),a.go("dashboard")):r.loginError=o.data.message},function(t){console.log(t)})}}])}(),function(){"use strict";angular.module("bowyer").controller("logoutCtrl",["api","$state","localStorageService","constants",function(t,a,e,o){var r={url:"/api/logout"};t.executeCall(r).then(function(t){a.go("login")},t.logout(function(t){console.error(t)}))}])}(),function(){"use strict";bowyer.controller("registerCtrl",["api","$state","localStorageService","constants",function(t,a,e,o){var r=this;r.validateLogin=function(){r.loginError=!1;var s={url:"/api/login",data:{username:r.username,password:r.password},method:o.method.post};t.executeCall(s).then(function(o){o.data.api_token?(e.set("api_token",o.data.api_token),t.addTokenToCalls(),a.go("dashboard")):r.loginError=o.data.message},function(t){console.log(t)})}}])}(),function(){"use strict";angular.module("bowyer").factory("api",["$http","constants","$state","localStorageService",function(t,a,e,o){return{executeCall:function(e){return e.method===a.method.post?t.post(e.url,e.data):t.get(e.url)},logout:function(t){return function(a){401===a.status?(o.clearAll(),e.go("login")):t&&t(a)}},addTokenToCalls:function(){t.defaults.headers.common.apitoken=o.get("api_token")}}}])}(),function(){"use strict";angular.module("bowyer").factory("commonFactory",[function(){return{}}])}(),function(){"use strict";angular.module("bowyer").factory("constants",[function(){return{method:{post:"POST",get:"GET"}}}])}(),function(){"use strict";angular.module("bowyer").controller("healthCheckCtrl",["api","localStorageService","healthCheckFactory",function(t,a,e){var o=this;o.api=e.initial,o.db=e.initial,o.ls=e.initial;var r={url:"/api/healthCheck/apiCheck"},s={url:"/api/healthCheck/dbCheck"};t.executeCall(r).then(function(t){o.api=e.success},t.logout(function(t){o.api=e.failed})),t.executeCall(s).then(function(t){o.db=e.success,t.data.api_token===a.get("api_token")?o.ls=e.success:o.ls=e.failed},t.logout(function(t){o.db=e.failed,o.ls=e.failed}))}])}(),function(){"use strict";angular.module("bowyer").factory("healthCheckFactory",function(){return{initial:{checkValue:0,checkMessage:"checking ...",type:"warning"},success:{checkValue:100,checkMessage:"Healthy",checkPass:!0,type:"success"},failed:{checkValue:100,checkMessage:"Failed",type:"danger"}}})}(),function(){"use strict";angular.module("bowyer").controller("usersCtrl",["api",function(t){var a=this,e={url:"/api/admin/users"};t.executeCall(e).then(function(t){a.users=t.data},t.logout(function(t){console.log(t)}))}])}(),function(){"use strict";angular.module("bowyer").directive("bowyerLogo",function(){return{restrict:"EA",template:'<span>bow</span><span style="color:#F39C12">yer</span>'}})}();