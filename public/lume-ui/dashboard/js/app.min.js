!function(){"use strict";angular.module("lume",["ngAnimate","ngCookies","ngTouch","ngSanitize","ui.router","ui.bootstrap","LocalStorageModule"])}(),function(){"use strict";function t(t,e,o){t.state("login",{url:"/login",templateUrl:"lume-ui/dashboard/partials/login/login.html"}).state("logout",{url:"/logout",controller:"logoutCtrl"}).state("forgetPassword",{url:"/forgetPassword",templateUrl:"lume-ui/dashboard/partials/forgetPassword/forgetPassword.html"}).state("register",{url:"/register",templateUrl:"lume-ui/dashboard/partials/register/register.html"}).state("dashboard",{url:"/",templateUrl:"lume-ui/dashboard/partials/dashboard/dashboard.html"}).state("dashboard.alerts",{url:"alerts",templateUrl:"lume-ui/dashboard/partials/dashboard/alerts/alerts.html"}).state("dashboard.users",{url:"users",controller:"usersCtrl",templateUrl:"lume-ui/dashboard/partials/dashboard/users/users.html"}).state("dashboard.settings",{url:"settings",templateUrl:"lume-ui/dashboard/partials/dashboard/settings/settings.html"}).state("dashboard.resetPassword",{url:"resetPassword",templateUrl:"lume-ui/dashboard/partials/dashboard/resetPassword/resetPassword.html"}),e.otherwise("/login"),o.setPrefix("lume")}angular.module("lume").config(t)}(),function(){"use strict";function t(t,e){t.defaults.headers.common.api_token=e.get("api_token")}angular.module("lume").run(t)}(),function(){"use strict";angular.module("lume").controller("dashboardCtrl",["$scope",function(t){}])}(),function(){"use strict";angular.module("lume").controller("loginCtrl",["api","$state","localStorageService","constants",function(t,e,o,a){var r=this;r.validateLogin=function(){r.loginError=!1;var l={url:"/api/login",data:{username:r.username,password:r.password},method:a.method.post};t.executeCall(l).then(function(a){a.data.api_token?(o.set("api_token",a.data.api_token),t.addTokenToCalls(),e.go("dashboard")):r.loginError=a.data.message},function(t){console.log(t)})}}])}(),function(){"use strict";angular.module("lume").controller("logoutCtrl",["api","$state","localStorageService","constants",function(t,e,o,a){var r={url:"/api/logout"};t.executeCall(r).then(function(t){e.go("login")},t.logout(function(t){console.error(t)}))}])}(),function(){"use strict";angular.module("lume").factory("api",["$http","constants","$state","localStorageService",function(t,e,o,a){return{executeCall:function(o){return o.method===e.method.post?t.post(o.url,o.data):t.get(o.url)},logout:function(t){return function(e){401===e.status?(a.clearAll(),o.go("login")):t&&t(e)}},addTokenToCalls:function(){t.defaults.headers.common.api_token=a.get("api_token")}}}])}(),function(){"use strict";angular.module("lume").factory("commonFactory",[function(){return{}}])}(),function(){"use strict";angular.module("lume").factory("constants",[function(){return{method:{post:"POST",get:"GET"}}}])}(),function(){"use strict";angular.module("lume").controller("usersCtrl",["$scope","api",function(t,e){var o={url:"/api/admin/users"};e.executeCall(o).then(function(e){t.users=e.data},e.logout(function(t){console.log(t)}))}])}();